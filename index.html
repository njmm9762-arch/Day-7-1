<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>نجم الإخبارية</title>

<!-- أيقونة الموقع -->
<link rel="icon" type="image/png" href="file_00000000a46471f4a4abf7ee1b7f1241.png">

<!-- بيانات المشاركة (Open Graph) -->
<meta property="og:title" content="نجم الإخبارية - آخر الأخبار أولاً">
<meta property="og:description" content="تابع أهم الأخبار السياسية، الرياضية، الصحية، الفلسطينية أولاً على نجم الإخبارية. كل الأخبار موثوقة ومحدثة لحظة بلحظة.">
<meta property="og:image" content="file_00000000a46471f4a4abf7ee1b7f1241.png">
<meta property="og:type" content="website">
<meta property="og:url" content="https://njmm9762-arch.github.io/Day-7-1/">

<style>
body { font-family: Arial,sans-serif; margin:0; padding:0; background:#f5f5f5; color:#333; }
header { background:#c40000; color:white; padding:20px; text-align:center; }
header .logo { display:flex; align-items:center; justify-content:center; gap:15px; }
header .logo img { height:100px; border-radius:50%; } /* اللوجو دائري */
header .logo span { font-size:24px; font-weight:bold; color:white; }
nav { background:#222; }
nav ul { list-style:none; margin:0; padding:0; display:flex; justify-content:center; flex-wrap:wrap; }
nav ul li { margin:0 15px; color:white; padding:10px 0; cursor:pointer; }
nav ul li.active { border-bottom:2px solid #c40000; }
.container { width:90%; max-width:1200px; margin:20px auto; }
.news-card { background:white; padding:20px; margin-bottom:20px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
.news-card img { width:100%; border-radius:8px; margin-bottom:15px; }
.news-card h2 { font-size:22px; }
.news-card p { font-size:18px; white-space: pre-line; } /* يحافظ على تنسيق النص الطويل */
.share-btn { display:inline-block; margin-top:10px; color:#c40000; text-decoration:none; font-weight:bold; font-size:18px; padding:8px 12px; background:#c40000; color:white; border-radius:5px; cursor:pointer; text-align:center; }
#video-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:black; display:flex; justify-content:center; align-items:center; z-index:9999; }
#video-overlay video { max-width:100%; max-height:100%; border-radius:8px; }
</style>
</head>
<body>

<!-- فيديو الدخول -->
<div id="video-overlay">
    <video id="intro-video" autoplay muted>
        <source src="VID_٢٠٢٦٠٢٠٣٠٣٠٩٥١.mp4" type="video/mp4">
    </video>
</div>

<header>
    <div class="logo">
        <img src="file_00000000a46471f4a4abf7ee1b7f1241.png" alt="نجم الإخبارية">
        <span>نجم الإخبارية</span>
    </div>
</header>

<nav>
    <ul>
        <li class="active" onclick="filterNews('all')">الرئيسية</li>
        <li onclick="filterNews('رياضة')">رياضة</li>
        <li onclick="filterNews('صحة')">صحة</li>
        <li onclick="filterNews('سياسة')">سياسة</li>
        <li onclick="filterNews('فلسطين')">فلسطين</li>
    </ul>
</nav>

<div class="container" id="news-container">
    <!-- الأخبار سيتم توليدها من data.json -->
</div>

<script>
// --- التعامل مع الفيديو ---
const videoOverlay = document.getElementById('video-overlay');
const introVideo = document.getElementById('intro-video');

// انتقل للصفحة الرئيسية بعد 7 ثواني
const videoTimeout = setTimeout(() => {
    videoOverlay.style.display = 'none';
}, 7000);

// أي كليك يوقف الفيديو ويدخل الموقع مباشرة
videoOverlay.addEventListener('click', () => {
    clearTimeout(videoTimeout);
    videoOverlay.style.display = 'none';
});

// --- جلب البيانات من JSON وعرضها ---
fetch('data.json')
.then(response => response.json())
.then(data => {
    const container = document.getElementById('news-container');
    data.news.forEach(item => {
        const card = document.createElement('div');
        card.className = 'news-card';
        card.setAttribute('data-category', item.category);

        const img = document.createElement('img');
        img.src = item.image;
        img.alt = item.title;
        card.appendChild(img);

        const title = document.createElement('h2');
        title.textContent = item.title;
        card.appendChild(title);

        const desc = document.createElement('p');
        desc.textContent = item.fullDescription;
        card.appendChild(desc);

        // زر مشاركة الخبر عند الضغط الطويل
        let pressTimer;
        card.addEventListener('mousedown', startPress);
        card.addEventListener('touchstart', startPress);
        card.addEventListener('mouseup', cancelPress);
        card.addEventListener('mouseleave', cancelPress);
        card.addEventListener('touchend', cancelPress);

        function startPress(e){
            pressTimer = setTimeout(()=>{
                showShare(card, item);
            }, 600);
        }
        function cancelPress(){ clearTimeout(pressTimer); }

        function showShare(card, item){
            let existing = card.querySelector('.share-btn');
            if(existing) return;
            const btn = document.createElement('a');
            btn.className = 'share-btn';
            btn.textContent = 'مشاركة الخبر';
            btn.onclick = function(){
                const shareURL = window.location.href.split('#')[0] + '#' + encodeURIComponent(item.title);
                if(navigator.share){ 
                    navigator.share({ title: item.title, url: shareURL });
                } else {
                    prompt("انسخ الرابط لمشاركة الخبر:", shareURL);
                }
            };
            card.appendChild(btn);
        }

        container.appendChild(card);
    });
});

// --- فلترة الأخبار ---
function filterNews(category){
    const cards = document.querySelectorAll('.news-card');
    cards.forEach(card => {
        if(category === 'all' || card.getAttribute('data-category') === category){
            card.style.display = 'block';
        } else { card.style.display = 'none'; }
    });
    document.querySelectorAll('nav ul li').forEach(li => li.classList.remove('active'));
    if(category==='all'){ document.querySelector('nav ul li:first-child').classList.add('active'); }
    else { Array.from(document.querySelectorAll('nav ul li')).forEach(li => { if(li.textContent===category) li.classList.add('active'); }); }
}
</script>

</body>
</html>
