<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>نجم الإخبارية</title>

<!-- أيقونة الموقع -->
<link rel="icon" type="image/png" href="file_00000000a46471f4a4abf7ee1b7f1241.png">

<!-- بيانات المشاركة (Open Graph) -->
<meta property="og:title" content="نجم الإخبارية - آخر الأخبار أولاً">
<meta property="og:description" content="تابع أهم الأخبار السياسية، الرياضية، الصحية، الفلسطينية أولاً على نجم الإخبارية. كل الأخبار موثوقة ومحدثة لحظة بلحظة.">
<meta property="og:image" content="file_00000000a46471f4a4abf7ee1b7f1241.png">
<meta property="og:type" content="website">
<meta property="og:url" content="https://njmm9762-arch.github.io/Day-7-1/">

<style>
body { font-family: Arial,sans-serif; margin:0; padding:0; background:#f5f5f5; color:#333; }
header { background:#c40000; color:white; padding:20px; text-align:center; }
header .logo { display:flex; align-items:center; justify-content:center; gap:15px; }
header .logo img { height:100px; border-radius:50%; }
header .logo span { font-size:24px; font-weight:bold; color:white; }
nav { background:#222; }
nav ul { list-style:none; margin:0; padding:0; display:flex; justify-content:center; flex-wrap:wrap; }
nav ul li { margin:0 15px; color:white; padding:10px 0; cursor:pointer; }
nav ul li.active { border-bottom:2px solid #c40000; }
.container { width:90%; max-width:1200px; margin:20px auto; }
.news-card, .news-full { background:white; padding:20px; margin-bottom:20px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
.news-card img, .news-full img { width:100%; border-radius:8px; margin-bottom:15px; }
.news-card a, .back-link, .share-btn { display:inline-block; margin-top:10px; color:#c40000; text-decoration:none; font-weight:bold; font-size:18px; }
.back-link { margin-top:20px; }
.news-card h2, .news-full h2 { font-size:22px; }
.news-card p, .news-full p { font-size:18px; }
#news-page { display:none; }
.result-links a { display:block; margin:5px 0; color:#c40000; text-decoration:none; font-size:18px; }
#intro-video { position:fixed; top:0; left:0; width:100%; height:100%; object-fit:cover; z-index:9999; }
</style>
</head>
<body>

<!-- فيديو الدخول -->
<video id="intro-video" autoplay muted playsinline>
  <source src="VID_٢٠٢٦٠٢٠٣٠٣٠٩٥١.mp4" type="video/mp4">
</video>

<header>
    <div class="logo">
        <img src="file_00000000a46471f4a4abf7ee1b7f1241.png" alt="نجم الإخبارية">
        <span>نجم الإخبارية</span>
    </div>
</header>

<nav>
    <ul>
        <li class="active" onclick="filterNews('all')">الرئيسية</li>
        <li onclick="filterNews('رياضة')">رياضة</li>
        <li onclick="filterNews('صحة')">صحة</li>
        <li onclick="filterNews('سياسة')">سياسة</li>
        <li onclick="filterNews('فلسطين')">فلسطين</li>
    </ul>
</nav>

<div class="container" id="main-page">
<!-- الأخبار سيتم تحميلها من JSON -->
</div>

<div class="container" id="news-page">
<!-- صفحة الخبر ستعرض عند الضغط على عرض المزيد -->
</div>

<script>
// --- إخفاء الفيديو عند الضغط في أي مكان ---
const introVideo = document.getElementById('intro-video');
document.addEventListener('click', ()=>{ introVideo.style.display='none'; });

// --- جلب البيانات من JSON ---
fetch('data.json')
.then(response => response.json())
.then(data => {
    const mainPage = document.getElementById('main-page');
    const newsPage = document.getElementById('news-page');
    
    data.news.forEach(n => {
        // إنشاء بطاقة الأخبار في الصفحة الرئيسية
        const card = document.createElement('div');
        card.className = 'news-card';
        card.dataset.category = n.category;
        card.dataset.link = n.id;
        card.innerHTML = `
            <img src="${n.image}" alt="${n.title}">
            <h2>${n.title}</h2>
            <p>${n.desc.split("<br>").slice(0,2).join(" ")}...</p>
            <a href="#" onclick="showNews('${n.id}')">عرض المزيد</a>
        `;
        mainPage.appendChild(card);
        
        // إنشاء صفحة الخبر الكامل
        const full = document.createElement('div');
        full.className = 'news-full';
        full.id = n.id;
        full.style.display='none';
        let fullDesc = n.desc;
        if(n.id==='results' && n.links){
            fullDesc += '<div class="result-links">';
            for(const [prov, link] of Object.entries(n.links)){
                fullDesc += `<a href="${link}" target="_blank">${prov}</a>`;
            }
            fullDesc += '</div>';
        }
        full.innerHTML = `
            <img src="${n.image}" alt="${n.title}">
            <h2>${n.title}</h2>
            <p>${fullDesc}</p>
            <a href="#" class="back-link" onclick="backToMain()">الرجوع للرئيسية</a>
        `;
        newsPage.appendChild(full);
    });

    // الضغط الطويل لمشاركة الخبر
    const newsCards = document.querySelectorAll('.news-card');
    newsCards.forEach(card=>{
        let pressTimer;
        card.addEventListener('mousedown', startPress);
        card.addEventListener('touchstart', startPress);
        card.addEventListener('mouseup', cancelPress);
        card.addEventListener('mouseleave', cancelPress);
        card.addEventListener('touchend', cancelPress);

        function startPress(){
            pressTimer = setTimeout(()=>{ showShare(card); }, 600);
        }
        function cancelPress(){ clearTimeout(pressTimer); }

        function showShare(card){
            if(card.querySelector('.share-btn')) return;
            const btn = document.createElement('a');
            btn.className = 'share-btn';
            btn.textContent = 'مشاركة الخبر';
            btn.style.display='block';
            btn.style.marginTop='10px';
            btn.style.padding='8px 12px';
            btn.style.background='#c40000';
            btn.style.color='white';
            btn.style.textDecoration='none';
            btn.style.borderRadius='5px';
            btn.style.textAlign='center';
            btn.style.cursor='pointer';
            btn.onclick = function(){
                const newsTitle = card.querySelector('h2').textContent;
                const newsId = card.dataset.link;
                const shareURL = window.location.href.split('#')[0] + '#' + newsId;
                if(navigator.share){ navigator.share({ title: newsTitle, url: shareURL }); }
                else { prompt("انسخ الرابط لمشاركة الخبر:", shareURL); }
            };
            card.appendChild(btn);
        }
    });

    // فتح الخبر مباشرة عبر الرابط
    window.addEventListener('load', ()=>{
        let hash = window.location.hash.replace('#','');
        if(hash){ showNews(hash); }
    });
});

// --- دوال التحكم ---
function showNews(n){
    document.getElementById('main-page').style.display='none';
    document.getElementById('news-page').style.display='block';
    document.querySelectorAll('.news-full').forEach(nf=>nf.style.display='none');
    const news = document.getElementById(n);
    if(news) news.style.display='block';
    window.currentNewsId = n;
}
function backToMain(){
    document.getElementById('news-page').style.display='none';
    document.getElementById('main-page').style.display='block';
}
function filterNews(category){
    const cards = document.querySelectorAll('.news-card');
    cards.forEach(card=>{
        if(category==='all' || card.dataset.category===category){ card.style.display='block'; }
        else { card.style.display='none'; }
    });
    document.querySelectorAll('nav ul li').forEach(li=>li.classList.remove('active'));
    if(category==='all'){ document.querySelector('nav ul li:first-child').classList.add('active'); }
    else { Array.from(document.querySelectorAll('nav ul li')).forEach(li=>{ if(li.textContent===category) li.classList.add('active'); }); }
}
</script>
</body>
</html>
